{% extends 'base.html' %}

{% block title %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css')}}">
{% endblock %}

{% block content %}
    <div class="dados">
        <h1>Patient</h1>
        <br>

        <!-- Mostrar a foto atual do paciente -->
        <img src="{{ url_for('static', filename='images/' ~ foto) }}" alt="Foto do Paciente" width="200" height="200">
        <br><br>

        <button id="edit" type="button" {{butshow}} onclick="window.location.href = '/Patient?option=edit'" class="button1">Edit</button>
        <button id="delete" type="button" {{butshow}} onclick="window.location.href = '/Patient?option=delete'" class="button1">Delete</button>
        <button id="insert" type="button" {{butshow}} onclick="window.location.href = '/Patient?option=insert'" class="button1">Insert</button>
        <button id="save" type="submit" form="form" {{butedit}} class="button1">Save</button>
        <button id="cancel" type="button" {{butedit}} onclick="window.location.href = '/Patient?option=cancel'" class="button1">Cancel</button>
        <button id="exit" type="button" {{butshow}} onclick="window.location.href = '/Patient?option=exit'" class="button1">Exit</button>
        <br><br>

        <!-- FormulÃ¡rio com enctype para upload de ficheiros -->
        <form id="form" action="/Patient?option=save" method="post" enctype="multipart/form-data">
            <label for="id">Id:</label>
            {% if butedit == 'enabled' %}
                <input type="text" disabled id="id" name="id" value="{{id}}" size="5"/>
            {% else %}
                <input type="text" {{butedit}} id="id" name="id" value="{{id}}" size="10"/>
            {% endif %}
            <br><br>

            <label for="patient_name">Name:</label>
            <input type="text" {{butedit}} id="patient_name" name="name" value="{{name}}" size="30"/>
            <br><br>

            <label for="age">Age:</label>
            <input type="text" {{butedit}} id="age" name="age" value="{{age}}" size="10"/>
            <br><br>

            <label for="condition">Condition:</label>
            <input type="text" {{butedit}} id="condition" name="condition" value="{{condition}}" size="10"/>
            <br><br>

            <label for="diagnosis">Diagnosis:</label>
            <input type="text" {{butedit}} id="diagnosis" name="diagnosis" value="{{diagnosis}}" size="30"/>
            <br><br>

            <label for="ward_id">Ward Id:</label>
            <input type="text" {{butedit}} id="ward_id" name="ward_id" value="{{ward_id}}" size="10"/>
            <br><br>

            <!-- Novo campo para upload da foto -->
            <label for="foto">Foto:</label>
            <input type="file" id="foto" name="foto" {{butedit}}>
        </form>

        <br>
        <button id="first" type="button" {{butshow}} onclick="window.location.href = '/Patient?option=first'" class="button1">First</button>
        <button id="previous" type="button" {{butshow}} onclick="window.location.href = '/Patient?option=previous'" class="button1">Previous</button>
        <button id="next" type="button" {{butshow}} onclick="window.location.href = '/Patient?option=next'" class="button1">Next</button>
        <button id="last" type="button" {{butshow}} onclick="window.location.href = '/Patient?option=last'" class="button1">Last</button>
    </div>
{% endblock %}
